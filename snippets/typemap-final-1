struct foo          T_STRUCT_FOO

INPUT
T_STRUCT_FOO
    if (!SvROK($arg) || SvTYPE(SvRV($arg)) != SVt_PVHV) {
        croak(\"$var is not a hash reference\");
    }

    HV* hash = (HV*)SvRV($arg);
    SV** sv_number = hv_fetchs(hash, \"number\", FALSE);
    if (sv_number && SvIOK(*sv_number)) {
        $var.number = SvIV(*sv_number);
    } else {
        croak(\"Missing or invalid 'number' field\");
    }
